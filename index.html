<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Happy Birthday, Will!!</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{ --card-width:720px; --accent:#ff6b9a; }
    html,body{ height:100%; margin:0; font-family: "Segoe UI", sans-serif; background: linear-gradient(135deg,#fff6f9 0%, #f0f9ff 100%); overflow:hidden; }
    .icons{ position:fixed; inset:0; pointer-events:none; z-index:0; }
    .floating-icon{ position:absolute; font-size:28px; opacity:0.9; }
    @keyframes floatUp {
      0% { transform: translateY(110vh) rotate(0deg); opacity:0; }
      10% { opacity:1; }
      50% { transform: translateY(50vh) rotate(180deg); }
      100% { transform: translateY(-20vh) rotate(360deg); opacity:0; }
    }

    .center { position:relative; z-index:2; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:40px 20px; }
    .card { width:100%; max-width:var(--card-width); background: rgba(255,255,255,0.9); border-radius:20px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); padding:28px; display:flex; gap:22px; align-items:center; flex-wrap:wrap; }
    .left { flex:1; text-align:left; }
    .title { font-size:32px; margin:0 0 8px 0; color:#222; }
    .subtitle { margin:0 0 18px 0; color:#555; font-size:16px; }

    .image-wrap { flex:0 0 300px; display:flex; align-items:center; justify-content:center; }
    .slideshow { width:280px; height:280px; border-radius:18px; overflow:hidden; position:relative; box-shadow: 0 14px 40px rgba(0,0,0,0.08); border:6px solid rgba(255,255,255,0.6); background: linear-gradient(135deg,#fff,#f8f8ff); }
    .slide { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transition: opacity 800ms ease; opacity:0; border-radius:12px; }
    .slide.show { opacity:1; z-index:2; }

    @media (max-width:800px){ .left{ flex:1 1 100%; text-align:center; } .image-wrap{ flex:1 1 100%; } .title{ font-size:26px; } }

    /* small control buttons */
    .btns { display:flex; gap:10px; margin-top:6px; flex-wrap:wrap; }
    .btn { background:var(--accent); color:#fff; border:none; padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600; }
    .btn.secondary { background:transparent; color:var(--accent); border:2px solid rgba(255,107,154,0.15); }
  </style>
</head>
<body>

  <div class="icons" id="icons"></div>

  <div class="center">
    <div class="card" role="main">
      <div class="left">
        <h1 id="title" class="title">Congratulations on being born a really long time ago!!<span class="heart">ğŸ’–</span></h1>
        <p class="subtitle">Wishing you a day filled with laughter, cake, and unforgettable moments. Hope your year ahead sparkles!ğŸ¥³</p>

        <div class="btns">
          <button class="btn" id="playBtn">Play Song</button>
          <button class="btn secondary" id="toggleBtn">Toggle Surprise</button>
          <button class="btn" id="bigWishBtn">Big Wish</button>
          <button class="btn secondary" id="lyricsBtn">Lyrics</button>
        </div>
        <p id="surprise" style="margin-top:12px; display:none;">ğŸ‰ Surprise: You get an extra slice of cake today. Make a wish! ğŸ•¯ï¸</p>
      </div>

      <div class="image-wrap">
        <div class="slideshow" id="slideshow">
          <img id="slideA" class="slide" src="" alt="slide A">
          <img id="slideB" class="slide" src="" alt="slide B">
        </div>
      </div>
    </div>
  </div>

  <!-- audio -->
  <audio id="bdayAudio" loop>
    <source src="WILL.m4a" type="audio/x-m4a">
    <source src="WILL.m4a" type="audio/mp4">
    Your browser does not support the audio element.
  </audio>

  <!-- big wish popup -->
  <div id="bigWish" 
       style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6);
              display:flex; align-items:center; justify-content:center; z-index:999;">
    <div style="background:white; padding:40px; border-radius:20px; max-width:800px; text-align:center;">
      <h1 style="font-size:48px; color:#ff4081; margin:0;">ğŸ‚ğŸ‰ HAPPY BIRTHDAY WILLIAM ğŸ‰ğŸ‚</h1>
      <p style="font-size:24px; color:#333; margin-top:20px;">
        Wishing you endless joy, laughter, and unforgettable moments.<br>
        May this year be your brightest and happiest yet! ğŸŒŸğŸ’–
      </p>
      <button onclick="document.getElementById('bigWish').style.display='none'" 
              style="margin-top:20px; padding:10px 20px; font-size:18px; border:none; border-radius:12px; background:#ff6b9a; color:white; cursor:pointer;">
        Close
      </button>
    </div>
  </div>

  <!-- lyrics popup -->
  <div id="lyricsPopup" 
       style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6);
              display:flex; align-items:center; justify-content:center; z-index:999;">
    <div style="background:white; padding:30px; border-radius:20px; max-width:600px; text-align:center;">
      <h2 style="font-size:32px; color:#ff4081; margin:0 0 20px;">ğŸ¶ Lyrics ğŸ¶</h2>
      <p style="font-size:20px; line-height:1.6; color:#333; white-space:pre-line;">
International Tutor Groupâ€™s your baby, itâ€™s true, 
But it cries every morning â€” and so do we too. 
Forty-seven candles, the numberâ€™s a fright, 
And you still think spreadsheets are a Friday night.

Youâ€™re the governor, the boss, 
Emails flying, deadlines cross.
But whereâ€™s the cake, Will? 
All we gotâ€™s your chaos.

Happy Birthday, Uncle Will, 
Another year older, still busy still. 
Happy one more step towards retirement, 
Weâ€™ll drink to your â€œtime zone enlightenment.
        
      </p>
      <button onclick="document.getElementById('lyricsPopup').style.display='none'" 
              style="margin-top:20px; padding:10px 20px; font-size:18px; border:none; border-radius:12px; background:#ff6b9a; color:white; cursor:pointer;">
        Close
      </button>
    </div>
  </div>

  <script>
    // ---------- floating emoji ----------
    const container = document.getElementById("icons");
    const icons = ['ğŸˆ','ğŸ‰','ğŸ‚','ğŸ','ğŸ°','âœ¨','ğŸŠ','ğŸ¥³','ğŸŒŸ','ğŸ’–'];
    const count = 25;
    const rand = (min,max) => Math.random()*(max-min)+min;
  
    for (let i=0; i<count; i++) {
      const el = document.createElement("div");
      el.className = "floating-icon";
      el.textContent = icons[Math.floor(Math.random()*icons.length)];
      el.style.left = rand(0,95)+"%";
      el.style.fontSize = rand(20,40)+"px";
      el.style.animation = `floatUp ${rand(8,18)}s linear ${rand(-5,5)}s infinite`;
      container.appendChild(el);
    }

    // ---------- slideshow ----------
    const slides = [
      'WILL3.jpg',
      'WILL2.jpg',
      'WILL1.jpg',
      'WILL4.jpg'
    ];

    const preloaded = [];
    slides.forEach(src => { const im = new Image(); im.src = src; preloaded.push(im); });

    const a = document.getElementById('slideA');
    const b = document.getElementById('slideB');
    let showingA = true;
    let index = 0;

    if (slides.length === 1) {
      a.src = slides[0]; a.classList.add('show');
    } else {
      a.src = slides[0]; a.classList.add('show');
      b.src = slides[1];
      index = 1;
    }

    function showNext(){
      if (slides.length <= 1) return;
      const nextIndex = (index + 1) % slides.length;
      const front = showingA ? b : a;
      const back  = showingA ? a : b;

      front.onload = () => {
        front.classList.add('show');
        back.classList.remove('show');
        front.onload = null;
      };
      front.src = slides[nextIndex];

      showingA = !showingA;
      index = nextIndex;
    }

    setInterval(showNext, 3000);

    // ---------- buttons ----------
    const audio = document.getElementById('bdayAudio');
    document.getElementById('playBtn').addEventListener('click', () => {
      if (audio.paused) {
        audio.play().catch(()=>alert('Autoplay blocked â€” click Play again.'));
      } else {
        audio.pause();
        audio.currentTime = 0;
      }
    });

    document.getElementById('toggleBtn').addEventListener('click', () => {
      const s = document.getElementById('surprise');
      s.style.display = s.style.display === 'none' ? 'block' : 'none';
    });

    document.getElementById('bigWishBtn').addEventListener('click', () => {
      document.getElementById('bigWish').style.display = 'flex';
    });

    document.getElementById('lyricsBtn').addEventListener('click', () => {
      document.getElementById('lyricsPopup').style.display = 'flex';
    });

    // reduced motion
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    if (mq.matches) {
      document.querySelectorAll('.floating-icon').forEach(el => {
        el.style.animation = 'none';
        el.style.opacity = 0.9;
      });
    }
  </script>
</body>
</html>
